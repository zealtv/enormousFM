#N canvas 249 355 1060 437 12;
#X declare -path ./bop;
#X obj 892 61 r osc-in;
#X obj 36 345 dac~;
#X msg 28 117 \; pd dsp 1;
#X obj 28 86 loadbang;
#N canvas 73 92 841 440 OSC-IO 0;
#X obj 28 74 netreceive -u -b 6660;
#X obj 28 98 oscparse;
#X obj 28 122 list trim;
#X obj 548 292 netsend -u -b;
#X obj 568 240 loadbang;
#X msg 568 266 connect 255.255.255.255 5550;
#X obj 28 257 outlet;
#X obj 548 75 inlet;
#X obj 643 101 r ID;
#X text 685 99 todo: PASS IN ID;
#X obj 28 178 route all;
#X obj 88 209 route;
#X obj 120 165 r ID;
#X text 133 189 todo: PASS IN ID;
#X obj 548 130 list prepend 0;
#X obj 548 154 list trim;
#X obj 548 180 oscformat rpt;
#X obj 308 103 oscparse;
#X obj 308 127 list trim;
#X obj 308 151 route id;
#X obj 308 186 s ID;
#X obj 308 79 netreceive -u -b 6661;
#X text 547 40 report (broadcast to 5550);
#X text 30 41 command (listen on 6660);
#X text 52 14 ----------- OSC INPUT/OUTPUT -------------;
#X text 310 46 admin (listen on 6661);
#X obj 317 271 oscformat hi;
#X obj 317 295 s osc-out;
#X obj 308 245 r ID;
#X text 347 244 announce;
#X obj 308 320 print SETTING ID:;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 10 0;
#X connect 4 0 5 0;
#X connect 5 0 3 0;
#X connect 7 0 14 0;
#X connect 8 0 14 1;
#X connect 10 0 6 0;
#X connect 10 1 11 0;
#X connect 11 0 6 0;
#X connect 12 0 11 1;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 16 0 3 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 21 0 17 0;
#X connect 26 0 27 0;
#X connect 28 0 26 0;
#X connect 28 0 30 0;
#X restore 209 71 pd OSC-IO;
#X obj 209 96 s osc-in;
#X obj 209 45 r osc-out;
#N canvas 0 218 664 405 ARD-IO 0;
#X obj 30 425 oscparse;
#X obj 38 30 inlet;
#X obj 420 75 s \$0-to-comport;
#X obj 30 210 r \$0-to-comport;
#X msg 420 48 devices;
#X obj 420 23 loadbang;
#X obj 30 496 outlet;
#X obj 30 330 comport 0 115200;
#X obj 30 456 route list;
#X obj 416 271 oscformat -f fsi echo;
#X msg 418 240 0.5 hello 420;
#X text 163 46 recieve message like this;
#N canvas 63 100 518 365 oscformat 0;
#X obj 107 115 list split 1;
#X obj 38 51 list;
#X obj 38 262 oscformat;
#X obj 38 79 t b b l, f 13;
#X obj 107 167 list prepend set;
#X obj 38 227 list trim;
#X obj 82 195 list;
#X obj 38 178 list;
#X text 183 79 split first element to be osc address;
#X obj 36 19 inlet;
#X obj 38 299 outlet;
#X connect 0 0 4 0;
#X connect 0 1 7 1;
#X connect 1 0 3 0;
#X connect 2 0 10 0;
#X connect 3 0 7 0;
#X connect 3 1 6 0;
#X connect 3 2 0 0;
#X connect 4 0 6 1;
#X connect 5 0 2 0;
#X connect 6 0 5 0;
#X connect 7 0 5 0;
#X connect 9 0 1 0;
#X restore 38 90 pd oscformat;
#X obj 38 125 s \$0-to-slip;
#X obj 47 249 r \$0-to-slip;
#X obj 416 307 s \$0-to-slip;
#X msg 406 157 close;
#X msg 462 157 open 1;
#X obj 422 195 s \$0-to-comport;
#X msg 97 46 needle 0;
#X obj 47 284 bop.p/bop.p.slipencode;
#X obj 30 374 bop.p/bop.p.slipdecode;
#X obj 182 414 bng 15 250 50 0 empty empty error 17 7 0 10 #fcfcfc #000000 #000000;
#X connect 0 0 8 0;
#X connect 1 0 12 0;
#X connect 3 0 7 0;
#X connect 4 0 2 0;
#X connect 5 0 4 0;
#X connect 7 0 21 0;
#X connect 8 0 6 0;
#X connect 9 0 15 0;
#X connect 10 0 9 0;
#X connect 12 0 13 0;
#X connect 14 0 20 0;
#X connect 16 0 18 0;
#X connect 17 0 18 0;
#X connect 19 0 12 0;
#X connect 20 0 7 0;
#X connect 21 0 0 0;
#X connect 21 1 22 0;
#X restore 339 72 pd ARD-IO;
#X obj 472 337 route d;
#X obj 542 250 s to-arduino;
#X obj 339 46 r to-arduino;
#X obj 339 98 s from-arduino;
#X obj 472 309 r from-arduino;
#X msg 542 223 needle \$1;
#X floatatom 542 169 5 0 0 0 - - - 0;
#X floatatom 472 362 5 0 0 1 distance - - 0;
#X msg 585 169 0;
#X obj 676 354 s to-arduino;
#X msg 676 324 ledhue \$1;
#X obj 679 295 hsl 162 19 0 1 0 0 empty empty empty -2 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 679 218 hsl 162 19 0 1 0 0 empty empty empty -2 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 679 136 hsl 162 19 0 1 0 0 empty empty empty -2 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X msg 676 162 leds \$1 \$1 \$1 \$1 \$1 \$1 \$1 \$1 \$1 \$1;
#X msg 676 243 ledsat \$1;
#X obj 676 189 s to-arduino;
#X obj 676 266 s to-arduino;
#X text 336 7 --- ARDUINO ---;
#X text 201 5 --- OSC ---;
#X text 30 223 --- AUDIO ---;
#X obj 892 132 route leds;
#X obj 927 194 r osc-in;
#X obj 927 225 route ledsat;
#X obj 861 316 r osc-in;
#X obj 861 347 route ledhue;
#X obj 451 164 r osc-in;
#X obj 451 195 route needle;
#N canvas 63 100 585 278 variables 0;
#X obj 22 22 r STARTTIME;
#X obj 141 22 r RANDOM;
#X obj 239 22 r MACADDRESS;
#X obj 22 51 print STARTTIME;
#X obj 141 51 print RANDOM;
#X obj 239 51 print MACADDRESS;
#X obj 365 22 r ID;
#X obj 365 51 print ID;
#X connect 0 0 3 0;
#X connect 1 0 4 0;
#X connect 2 0 5 0;
#X connect 6 0 7 0;
#X restore 28 57 pd variables;
#X f 19;
#X obj 28 28 declare -path ./bop;
#X obj 36 302 channel 0;
#X obj 36 262 r osc-in;
#X obj 96 343 s osc-out;
#X msg 142 308 test output 1;
#X text 29 5 --- INIT ---;
#X connect 0 0 29 0;
#X connect 3 0 2 0;
#X connect 4 0 5 0;
#X connect 6 0 4 0;
#X connect 7 0 11 0;
#X connect 8 0 15 0;
#X connect 10 0 7 0;
#X connect 12 0 8 0;
#X connect 13 0 9 0;
#X connect 14 0 13 0;
#X connect 16 0 13 0;
#X connect 18 0 17 0;
#X connect 19 0 18 0;
#X connect 20 0 23 0;
#X connect 21 0 22 0;
#X connect 22 0 24 0;
#X connect 23 0 25 0;
#X connect 29 0 22 0;
#X connect 30 0 31 0;
#X connect 31 0 23 0;
#X connect 32 0 33 0;
#X connect 33 0 18 0;
#X connect 34 0 35 0;
#X connect 35 0 13 0;
#X connect 38 0 1 0;
#X connect 38 1 40 0;
#X connect 39 0 38 0;
#X connect 41 0 40 0;
